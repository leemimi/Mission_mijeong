## Title: [1Week] 이미정

### 미션 요구사항 분석 & 체크리스트

---
    [x] 호감목록 페이지에서 특정 항목에서 삭제버튼을 누르면, 해당 항목은 삭제되어야 한다.
    [x] 삭제를 처리하기 전에 해당 항목에 대한 소유권이 본인(로그인한 사람)에게 있는지 체크해야 한다.
    [x] 삭제 후 다시 호감목록 페이지로 돌아와야 한다.
    [x] rq.redirectWithMsg 함수 사용


### 1주차 미션 요약

---

**[접근 방법]**

- likeablePerson directory의 Controller과 Service에 삭제할 수 있는 메소드를 구현해야 겠다
- Service에 findById 메소드를 구현해서 내가 삭제하고싶은 인스타 호감상대 아이디를 찾는 메소드를 구현했다
- 이후 그 밑에 @Transactional을 사용하여 delete 메소드를 구현했다.
- Controller에 likeableDelete 메소드를 구현하여 findByid를 이용하여 원하는 아이디 값을 찾았다
- 이후 그 밑에 rq를 통해서 내가 로그인한 사람이고, 호감상대를 삭제하려는 사람이 맞는지 확인하는
  권한 메시지를 작성하는 코드를 만들었다. 아니라면  HttpStatus.BAD_REQUEST, "삭제 권한이 없습니다"를 보낸다.
- 이후 id값을 넣어 delete를 수행하고 rq.redirectWithMsg를 이용하여 삭제 된 호감리스트페이지로 다시 돌아오게 된다.


**[특이사항]**

- 삭제까지 잘 되었다가 어느 순간 밑 페이지 사진상태로 들어갔다
  ![스크린샷 2023-04-05 오후 4.30.28.png](..%2F..%2F..%2F..%2F..%2Fvar%2Ffolders%2F7z%2F6__y7prs4djdrmxwh60yxgf80000gn%2FT%2FTemporaryItems%2FNSIRD_screencaptureui_TxRd80%2F%EC%8A%A4%ED%81%AC%EB%A6%B0%EC%83%B7%202023-04-05%20%EC%98%A4%ED%9B%84%204.30.28.png)
- 쿠키 삭제까지 해보고, 파일껐다 끄기, DB 새로 고침 등 여러가지를 해봤지만 해결방법을 찾지 못했다
- 이전까지는 잘 삭제되었지만, 위의 상태로 들어가고나서 내가 작성한 코드가 삭제 처리를 잘 수행하는지 알 방법이 없었다.
- 코드를 최대한 논리에 맞게 수정해보았다. 강사님의 정답 코드를 보고 모르는 부분은 다시 내것으로 만들고 피드백 해야할 것 같다.